<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" data-bs-theme="auto">

<head th:insert="~{admin/fragments/head.html :: admin-head}"></head>
<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>

<body id="page-top">

<!-- Page Wrapper -->
<div id="wrapper">

  <!-- Sidebar -->
  <div th:replace="~{admin/fragments/sidebar.html :: admin-sidebar}"></div>
  <!-- End of Sidebar -->

  <!-- Content Wrapper -->
  <div id="content-wrapper" class="d-flex flex-column">

    <!-- Main Content -->
    <div id="content">

      <!-- Topbar -->
      <nav th:insert="~{admin/fragments/navbar.html :: admin-navbar}"></nav>
      <!-- End of Topbar -->

      <!-- Begin Page Content -->
      <div class="container">
        <h1 class="text-center mb-4 mt-3 text-dark-emphasis">Players</h1>

        <div class="table-responsive">
          <table class="table table-bordered text-dark-emphasis">
            <thead class="table-dark">
              <tr>
                <th scope="col">ID</th>
                <th scope="col">Username</th>
                <th scope="col">Email</th>
                <th scope="col">Total Games</th>
                <th scope="col">KD</th>
                <th scope="col">Registered</th>
              </tr>
            </thead>
            <tbody>
            <tr th:each="p : ${players}">
              <th scope="col" th:text="${'#' + p.getId()}"></th>
              <th scope="col">
                <a th:href="'/' + ${p.getUsername() + '/statistics'}" th:text="${p.getUsername()}" class="text-dark-emphasis"></a>
              </th>
              <th scope="col" th:text="${p.getEmail() == null ? 'null' : p.getEmail().getEmail()}"></th>
              <th scope="col" th:text="${p.getPlayerStatistics().getTotalGames()}"></th>
              <th scope="col" th:text="${p.getPlayerStatistics().getKd()}"></th>
              <th scope="col" th:text="${p.getRegistered()}"></th>
            </tr>
            </tbody>
          </table>
        </div>
      </div>



    </div>

    <footer th:replace="~{admin/fragments/footer.html :: admin-footer}"></footer>

  </div>
</div>
</body>

</html>